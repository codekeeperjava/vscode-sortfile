# vscode-sortfile 插件

## 解决问题

我使用 VS Code 作为写作平台，一般编写 `.md` 文件的博客，但由于很多系统学习的知识存在有序性，因此我需要对文件夹下的文件进行排序，以便维持这种有序性。

比如我可以在入门篇起名为 `1. 入门` ，在放弃篇起名为 `2. 放弃` 。这样使用 VS Code 的文件名排序即可以将 `1. 入门` 排在 `2. 放弃` 之前了。

但存在问题是，如果我在放弃之前，需要加一篇 `2. 精通` ，则需要手动修改 `2. 放弃` 为 `3. 放弃` 。如果只有几个文件，我可以忍受。超过 3 个文件，我便无法忍受这样的修改过程，**此插件将手动修改的过程改为了自动修改** ，方便在 VS Code 中进行文件的排序。

## v0.1

### v0.1 功能

* [ ] 序号插入，比如输入 1 ，则在文件名之前加 `1.` ，然后使用文件名排序时可以将该文件排在第一的位置。

### v0.1 实现

1. 先搜索新建文件所在目录下所有的文件，只遍历不递归（可以给一个配置，配置 1：只搜索同类型文件，即后缀名相同的文件 配置 2：搜索所有文件）
2. 筛选出非 hidden ，且文件名中带有 `<编号>.` 的文件
3. 如果不存在这样的文件，直接插入 `<编号>.` 格式的文件结束即可
4. 对筛选后的文件进行排序
5. 查找该文件应该插入的位置，即大于比它小的编号，小于等于比它大的编号
6. 如果该位置的下一个文件的编号大于当前插入的文件编号，则直接插入 `<编号>.` 格式的文件结束即可
7. 如果该位置后的下一个或多个编号等于该编号，则找到大于插入编号且与之后断开的编号或者最大的编号。如已存在 `1. 2. 3. 3. 4. 6. 7.` ，如想插入 `2.` ，则先找到大于 2 且与之后 6 断开的编号 `4.` ，或者已存在 `1. 2. 3. 3. 4. 5. 6. 7.`，如想插入 `2.` ，则需要找到最大的 `7.`
8. 从找到编号开始向前遍历，将每个文件的编号 +1 ， 直到要插入文件处为止
9. 插入 `<编号>.` 格式的文件即可。

### v0.1 可配置项

1. 可以设置搜索当前目录文件时，配置 1：只搜索同类型文件 配置 2：搜索所有文件
2. 可以配置前缀的格式，但需要比较有区分性

## v0.2

### v0.2 功能

* [ ] 支持 3 级目录编号的插入，例如编号格式为 `1.1.` ，此时排序先按 `1.` 排序，再按 `1.1.` 排序。

### v0.2 实现

### v0.2 可配置项
